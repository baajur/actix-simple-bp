<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <title>Public Static Index</title>
  </head>
  <body>
    <div style="max-width: 600px; margin: 10% auto">
      <form id="login-form" action="/api/ext/v1/login" method="post">
        <div>
          <label style="width: 100%; display: inline-block">Email</label>
          <input name="email" type="email">
        </div>
        <div>
          <label style="width: 100%; display: inline-block">Pass</label>
          <input name="password" type="password">
        </div>
        <div>
          <button type="button" style="padding: 4px 8px" onclick="submitform()">Submit</button>
        </div>
      </form>
    </div>
    <script type="text/javascript">
      let loginForm = document.getElementById("login-form");
      function submitform() {
        let xhr = new XMLHttpRequest();
        xhr.open(loginForm.method, loginForm.action, true);
        xhr.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');
        let formData = new FormData(loginForm);
        let submitData = {};
        for (let key of formData.keys()){
          submitData[key] = formData.get(key);
        }
        console.log(submitData);
        xhr.send(JSON.stringify(submitData));
      }
      </script>
  </body>
</html>
